# Morse-Code Protected Calculator
## About this Project
- This Project is created for Authly (a Hack Club YSWS) by Don Wong.
- This Flask App Serves to Demonstrate the Custom Morse-Code Authentication System.
<br> **More About Me** <br> This is my first time creating anything related to Flask or Authentication, <br>so if the idea is rubbish or it looks bad, please be easy on me...
## Project Details
| App Route | Usage                                           |
|-----------|-------------------------------------------------|
| /         | A simple homepage for the app.                  |
| /login    | Login here after you have created your account! |
| /register | Register here if you do not have an account!    |
## How it works:
- Registration Logic
  - User inputs username, which is checked against the users.json to see if there is already a user with the same username.
  - User inputs password by pressing the Morse-Code button*, which turns the time pressed into dots(.) and dashes(-). Spaces are also allowed in the password field.
    - Password is checked for valid Morse-Code via `re.fullmatch(r'[.\- ]*', password)`
    - This means that the password must ONLY have (i.e. FULLmatch) the characters ".", "-" and " "(space). The * at the end means that this policy can be repeated, meaning there can be more than one of those characters.
  - The password is then hashed with `werkzeug.security.generate_password_hash` and stored in the users.json file.
    - This makes sure if the users.json file ever (hopefully not) get leaked, the attacker will not be able to view the password in plain.
- Login Logic
  - When a user enters their username and password (via morse code button), it is then checked against the users.json file with the `werkzeug.security.check_password_hash` function `(app.py line 63)`
  - 
- Morse Code Button Logic
  - We can see in login.html (inside templates folder), there is a script for the login button from `login.html line 18-56`
    - Basically what it does is:
      1. When the button is pressed down, it counts the time.
      2. When the button is released, it store the last recorded time as the constant `duration` (line 40)
      3. The `duration` is the checked against the threshold `(login.html line 45, default is 300 ms)` and if the duration is less than 300 ms, a dot(.) will be entered in the password field, otherwise, if the time is longer than 300 ms, a dash(-) will be entered in the password field.
    - The Button also plays a 600hz tone when the button is pressed down, this tone is generated by a oscillator. `(login.html lines 27-36)`